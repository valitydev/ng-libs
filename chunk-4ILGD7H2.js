import{Va as b,W as h,Z as d,c as v,da as u,g,lc as m,mc as y,na as l,nc as w,va as p,wa as i}from"./chunk-YY7FQGQK.js";function D(n){n||(l(D),n=u(i));let e=new v(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(h(e))}var f=class{constructor(e){this.source=e,this.destroyed=!1,this.destroyRef=u(i),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}subscribe(e){if(this.destroyed)throw new d(953,!1);let t=this.source.pipe(D(this.destroyRef)).subscribe({next:r=>e(r)});return{unsubscribe:()=>t.unsubscribe()}}};function I(n,e){return new f(n)}function j(n,e){!e?.injector&&l(j);let t=e?.injector??u(p),r=new g(1),c=w(()=>{let o;try{o=n()}catch(a){y(()=>r.error(a));return}y(()=>r.next(o))},{injector:t,manualCleanup:!0});return t.get(i).onDestroy(()=>{c.destroy(),r.complete()}),r.asObservable()}function k(n,e){let t=!e?.manualCleanup;t&&!e?.injector&&l(k);let r=t?e?.injector?.get(i)??u(i):null,c=x(e?.equal),o;e?.requireSync?o=b({kind:0},{equal:c}):o=b({kind:1,value:e?.initialValue},{equal:c});let a=n.subscribe({next:s=>o.set({kind:1,value:s}),error:s=>{if(e?.rejectErrors)throw s;o.set({kind:2,error:s})}});if(e?.requireSync&&o().kind===0)throw new d(601,!1);return r?.onDestroy(a.unsubscribe.bind(a)),m(()=>{let s=o();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new d(601,!1)}},{equal:e?.equal})}function x(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}export{D as a,I as b,j as c,k as d};
